{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///app/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,0BACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///app/db/schema.ts"],"sourcesContent":["import { sqliteTable, AnySQLiteColumn, integer, real, text } from \"drizzle-orm/sqlite-core\"\nimport { InferSelectModel, sql } from \"drizzle-orm\"\n\nexport const musicData = sqliteTable(\"music_data\", {\n    songId: integer(\"SongID\").primaryKey({ autoIncrement: true }),\n    title: text(\"Title\", { length: 255 }),\n    artist: text(\"Artist\", { length: 255 }),\n    year: integer(\"Year\"),\n    duration: integer(\"Duration\"),\n    timeSignature: text(\"Time_Signature\", { length: 10 }),\n    danceability: real(\"Danceability\"),\n    energy: real(\"Energy\"),\n    key: integer(\"Key\"),\n    loudness: real(\"Loudness\"),\n    mode: integer(\"Mode\"),\n    speechiness: real(\"Speechiness\"),\n    acousticness: real(\"Acousticness\"),\n    instrumentalness: real(\"Instrumentalness\"),\n    liveness: real(\"Liveness\"),\n    valence: real(\"Valence\"),\n    tempo: real(\"Tempo\"),\n    popularity: integer(\"Popularity\"),\n    genre: text(\"Genre\", { length: 255 }),\n});\n\nexport type Song = InferSelectModel<typeof musicData>;\n"],"names":[],"mappings":";;;AAAA;AAAA;AAAA;AAAA;;AAGO,MAAM,YAAY,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,cAAc;IAC/C,QAAQ,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE,UAAU,UAAU,CAAC;QAAE,eAAe;IAAK;IAC3D,OAAO,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE,SAAS;QAAE,QAAQ;IAAI;IACnC,QAAQ,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE,UAAU;QAAE,QAAQ;IAAI;IACrC,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IACd,UAAU,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IAClB,eAAe,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE,kBAAkB;QAAE,QAAQ;IAAG;IACnD,cAAc,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACnB,QAAQ,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACb,KAAK,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IACb,UAAU,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACf,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IACd,aAAa,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IAClB,cAAc,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACnB,kBAAkB,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACvB,UAAU,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACf,SAAS,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACd,OAAO,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE;IACZ,YAAY,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;IACpB,OAAO,CAAA,GAAA,mKAAA,CAAA,OAAI,AAAD,EAAE,SAAS;QAAE,QAAQ;IAAI;AACvC"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///app/app/actions.ts"],"sourcesContent":["\"use server\";\n// entire file uses server ACTIONS, \n// do NOT export components in this file, only functions\n\nimport { musicData, Song } from \"@/db/schema\";\nimport { and, eq, like, ne, or, sql } from \"drizzle-orm\";\nimport { drizzle } from \"drizzle-orm/libsql\";\n\nconst db = drizzle(\"file:./assets/ClassicHit.db\");\n\n// constants for song.mode\nconst MINOR = 0;\nconst MAJOR = 1\n\nexport async function getSong(songId: number) {\n    const song = db\n        .select()\n        .from(musicData)\n        .where(\n            eq(musicData.songId, Number(songId.toString()))\n        ).get();\n\n    return song;\n}\n\nexport async function getSameKey(song: Song, relativeKey: boolean = true) {\n    if (song.key === null || song.mode === null) return;\n\n    let relativeQuery = relativeKey\n        ? and(\n            ne(musicData.mode, song.mode),\n\n            // if song is major, go back 3 half steps to get relative minor\n            // if song is minor, go forward 3 half steps to get relative major\n            // mod 12 because 12 total tones\n            eq(musicData.key, (song.mode === MAJOR ? song.key - 3 : song.key + 3) % 12)\n        )\n        : undefined; // if relativeKey=false, just ignore query\n\n    return db\n        .select()\n        .from(musicData)\n        .where(\n            or(\n                and(\n                    // checks that same song and mode\n                    eq(musicData.mode, song.mode),\n                    eq(musicData.key, song.key)\n                ),\n                relativeQuery\n            )\n        )\n        .orderBy(sql`RANDOM()`)\n        .limit(10); // arbitary limit\n}\n\nexport async function searchSongs(query: string) {\n    const words = query.split(\" \");\n    const conditions = words.map((word) => {\n        return or(\n            like(musicData.title, `%${word}%`),\n            like(musicData.artist, `%${word}%`)\n        );\n    });\n\n    return db\n        .select()\n        .from(musicData)\n        .where(\n            and(...conditions)\n        )\n        .limit(100)\n}\n"],"names":[],"mappings":";;;;;;;AACA,oCAAoC;AACpC,wDAAwD;AAExD;;AAEA;AADA;AAAA;;;;;;;;;;AAGA,MAAM,KAAK,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE;AAEnB,0BAA0B;AAC1B,MAAM,QAAQ;AACd,MAAM,QAAQ;AAEP,eAAe,uCAAK,GAAL,QAAQ,MAAc;IACxC,MAAM,OAAO,GACR,MAAM,GACN,IAAI,CAAC,4GAAA,CAAA,YAAS,EACd,KAAK,CACF,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,MAAM,EAAE,OAAO,OAAO,QAAQ,MAC7C,GAAG;IAET,OAAO;AACX;AAEO,eAAe,uCAAQ,GAAR,WAAW,IAAU,EAAE,cAAuB,IAAI;IACpE,IAAI,KAAK,GAAG,KAAK,QAAQ,KAAK,IAAI,KAAK,MAAM;IAE7C,IAAI,gBAAgB,cACd,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,EACA,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,IAAI,EAAE,KAAK,IAAI,GAE5B,+DAA+D;IAC/D,kEAAkE;IAClE,gCAAgC;IAChC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,GAAG,EAAE,CAAC,KAAK,IAAI,KAAK,QAAQ,KAAK,GAAG,GAAG,IAAI,KAAK,GAAG,GAAG,CAAC,IAAI,OAE1E,WAAW,0CAA0C;IAE3D,OAAO,GACF,MAAM,GACN,IAAI,CAAC,4GAAA,CAAA,YAAS,EACd,KAAK,CACF,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EACG,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,EACE,iCAAiC;IACjC,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,IAAI,EAAE,KAAK,IAAI,GAC5B,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,GAAG,EAAE,KAAK,GAAG,IAE9B,gBAGP,OAAO,CAAC,4IAAA,CAAA,MAAG,CAAC,QAAQ,CAAC,EACrB,KAAK,CAAC,KAAK,iBAAiB;AACrC;AAEO,eAAe,uCAAS,GAAT,YAAY,KAAa;IAC3C,MAAM,QAAQ,MAAM,KAAK,CAAC;IAC1B,MAAM,aAAa,MAAM,GAAG,CAAC,CAAC;QAC1B,OAAO,CAAA,GAAA,kKAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,kKAAA,CAAA,OAAI,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GACjC,CAAA,GAAA,kKAAA,CAAA,OAAI,AAAD,EAAE,4GAAA,CAAA,YAAS,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;IAE1C;IAEA,OAAO,GACF,MAAM,GACN,IAAI,CAAC,4GAAA,CAAA,YAAS,EACd,KAAK,CACF,CAAA,GAAA,kKAAA,CAAA,MAAG,AAAD,KAAK,aAEV,KAAK,CAAC;AACf;;;IA1DsB;IAWA;IA+BA;;AA1CA,+OAAA;AAWA,+OAAA;AA+BA,+OAAA"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}